<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>í•˜íŠ¸ë¹Œë¦¬ì§€ í”„ë¼ì´ë¹— ë¦¬í¬íŠ¸ (Mobile)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+KR:wght@300;500;700;900&family=Noto+Sans+KR:wght@300;400;500;700&family=Great+Vibes&family=Cinzel:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'hb-green': '#1a2e1b', /* Deep Forest Green */
                        'hb-gold': '#c5a059',   /* Muted Luxury Gold */
                        'hb-paper': '#fdfbf7',  /* Warm Paper */
                        'hb-red': '#8a1c1c',    /* Alert Red */
                        'hb-charcoal': '#2d2d2d',
                    },
                    fontFamily: {
                        serif: ['"Noto Serif KR"', 'serif'],
                        sans: ['"Noto Sans KR"', 'sans-serif'],
                        hand: ['"Great Vibes"', 'cursive'],
                        eng: ['"Cinzel"', 'serif'],
                    },
                    animation: {
                        'pulse-gold': 'pulseGold 2s infinite',
                        'float': 'float 3s ease-in-out infinite',
                        'slide-up-paper': 'slideUpPaper 1.2s cubic-bezier(0.22, 1, 0.36, 1) forwards',
                        'fade-in-content': 'fadeIn 1s ease-out forwards 0.8s',
                    },
                    keyframes: {
                        pulseGold: {
                            '0%, 100%': { boxShadow: '0 0 0 0 rgba(197, 160, 89, 0.4)' },
                            '70%': { boxShadow: '0 0 0 15px rgba(197, 160, 89, 0)' },
                        },
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-10px)' },
                        },
                        slideUpPaper: {
                            '0%': { transform: 'translateY(120%) scale(0.9)', opacity: '0' },
                            '100%': { transform: 'translateY(0) scale(1)', opacity: '1' },
                        },
                        fadeIn: {
                            '0%': { opacity: '0', transform: 'translateY(20px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        }
                    }
                }
            }
        }
    </script>
    <style>
        body { background-color: #0a0c0b; overflow: hidden; height: 100vh; width: 100vw; display: flex; flex-direction: column; }
        
        /* SCENE CONTROLLER */
        .scene { position: absolute; inset: 0; width: 100%; height: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center; transition: all 1s ease-in-out; padding: 20px; }
        .scene-hidden { opacity: 0; pointer-events: none; z-index: -1; transform: scale(1.1); filter: blur(10px); }
        
        /* ENVELOPE STYLES (Vertical Optimized) */
        .envelope-container { 
            perspective: 1000px; 
            width: 80vw; /* Responsive Width */
            max-width: 320px;
            aspect-ratio: 1.4 / 1; /* Maintain Ratio */
            position: relative; 
            cursor: pointer; 
            margin: 40px 0; /* Spacing */
        }
        .envelope {
            position: relative; width: 100%; height: 100%; background: #1a2e1b;
            box-shadow: 0 20px 50px rgba(0,0,0,0.7); border-radius: 8px;
            transform-style: preserve-3d; transition: transform 0.6s;
            display: flex; justify-content: center; align-items: center;
            border: 1px solid rgba(255,255,255,0.08);
        }
        .envelope::before { /* Texture */
            content: ''; position: absolute; inset: 0; 
            background-image: url("data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 0h40v40H0V0zm20 20h20v20H20V20zM0 20h20v20H0V20z' fill='%23ffffff' fill-opacity='0.03' fill-rule='evenodd'/%3E%3C/svg%3E");
            pointer-events: none;
        }
        .flap {
            position: absolute; top: 0; left: 0; width: 100%; height: 52%;
            background: #233d25; transform-origin: top; transition: transform 0.6s 0.2s, z-index 0.2s;
            z-index: 10; clip-path: polygon(0 0, 50% 100%, 100% 0);
            border-top: 1px solid rgba(255,255,255,0.1);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        .envelope.open .flap { transform: rotateX(180deg); z-index: 0; }
        
        .wax-seal {
            width: 60px; height: 60px; 
            background: radial-gradient(circle at 30% 30%, #e6cf8b, #c5a059, #8a6e30);
            border-radius: 50%; position: absolute; top: 45%; left: 50%; transform: translate(-50%, -50%);
            z-index: 20; box-shadow: 0 4px 10px rgba(0,0,0,0.4), inset 0 2px 5px rgba(255,255,255,0.4);
            display: flex; justify-content: center; align-items: center;
            border: 3px solid #8a6e30; transition: all 0.3s;
        }
        .wax-seal i { font-size: 24px; color: #423210; filter: drop-shadow(0 1px 0 rgba(255,255,255,0.3)); }
        .envelope:hover .wax-seal { transform: translate(-50%, -50%) scale(1.1); }
        .envelope.open .wax-seal { opacity: 0; transform: translate(-50%, -50%) scale(1.5); pointer-events: none; }

        .letter-preview {
            position: absolute; top: 8px; left: 8px; right: 8px; bottom: 8px;
            background: #fdfbf7; border-radius: 4px; z-index: 5;
            transform: translateY(30px) scale(0.9); transition: transform 0.8s 0.5s; opacity: 0;
            box-shadow: 0 -5px 15px rgba(0,0,0,0.1); display: flex; align-items: center; justify-content: center;
        }
        .envelope.open .letter-preview { transform: translateY(-120%) scale(1); opacity: 0; /* Fade out as it opens */ }

        /* REPORT PAPER STYLES */
        .report-paper {
            background-color: #fdfbf7; width: 100%; height: 100%;
            overflow-y: auto; position: relative;
            background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23d4af37' fill-opacity='0.03'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        }
        .custom-scroll::-webkit-scrollbar { width: 4px; }
        .custom-scroll::-webkit-scrollbar-track { background: rgba(0,0,0,0.05); }
        .custom-scroll::-webkit-scrollbar-thumb { background: #c5a059; border-radius: 2px; }

        /* Typography */
        .intro-text-gradient {
            background: linear-gradient(135deg, #fdf6d8 0%, #d4af37 50%, #8a6e30 100%);
            -webkit-background-clip: text; color: transparent;
            text-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }
        
        /* Section Decor */
        .section-divider {
            display: flex; align-items: center; justify-content: center; margin: 30px 0;
        }
        .section-divider::before, .section-divider::after {
            content: ''; height: 1px; width: 60px; background: #c5a059; margin: 0 15px; opacity: 0.5;
        }
        .section-divider i { color: #c5a059; font-size: 14px; }

        /* Diagnosis List */
        .diagnosis-step {
            position: relative; padding-left: 20px; margin-bottom: 20px;
        }
        .diagnosis-step::before {
            content: ''; position: absolute; left: 0; top: 8px; bottom: -20px;
            width: 1px; background: #e5e7eb;
        }
        .diagnosis-step:last-child::before { display: none; }
        .dot-indicator {
            position: absolute; left: -4px; top: 8px; width: 9px; height: 9px;
            border-radius: 50%; background: #fff; border: 2px solid;
        }
    </style>
</head>
<body>

    <!-- SCENE 1: THE ENVELOPE (Vertical Layout) -->
    <div id="scene-envelope" class="scene bg-[url('https://www.transparenttextures.com/patterns/black-felt.png')]">
        
        <!-- Text Top -->
        <div class="text-center animate-fade-in z-10 mt-[-40px]">
            <p class="text-hb-gold font-eng text-[10px] tracking-[0.3em] uppercase mb-4 opacity-80">Private Consulting Report</p>
            <h1 class="font-serif text-3xl leading-relaxed tracking-wide font-light text-white">
                <span class="font-bold intro-text-gradient text-4xl block mb-2">ë°±í•´ë¦¼</span> ë‹˜ê»˜ ë„ì°©í•œ<br>
                <span class="italic font-normal text-white/90 text-xl">ì„¸í¬ ë¶„ì„ ê²°ê³¼ì„œ</span>
            </h1>
        </div>

        <!-- Envelope Middle -->
        <div class="envelope-container z-10" onclick="openLetter()">
            <div class="envelope" id="envelope">
                <div class="flap"></div>
                <div class="wax-seal animate-pulse-gold">
                    <i class="fas fa-heart"></i>
                </div>
                <div class="letter-preview shadow-xl flex items-center justify-center border border-gray-100">
                    <div class="text-center">
                        <p class="font-eng text-hb-green font-bold text-lg tracking-widest">HEART VILLAGE</p>
                        <p class="text-[8px] text-gray-400 uppercase tracking-widest mt-1">Official Document</p>
                    </div>
                </div>
                <div class="absolute bottom-5 text-white/10 text-[9px] tracking-[0.3em] font-serif">CONFIDENTIAL</div>
            </div>
        </div>

        <!-- Text Bottom -->
        <p class="text-white/40 text-xs mt-4 animate-pulse tracking-widest font-light z-10">
            <i class="fas fa-fingerprint mr-2"></i>í„°ì¹˜í•˜ì—¬ ë´‰íˆ¬ë¥¼ ì—´ì–´ì£¼ì„¸ìš”
        </p>

        <!-- Background Glow -->
        <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[300px] h-[300px] bg-hb-gold/5 blur-[80px] rounded-full pointer-events-none"></div>
    </div>

    <!-- SCENE 2: THE REPORT (Paper) -->
    <div id="scene-report" class="scene hidden p-0">
        <div class="report-paper shadow-2xl relative custom-scroll animate-slide-up-paper w-full h-full">
            
            <!-- Paper Header -->
            <div class="text-center pt-12 pb-8 px-6 bg-white border-b border-hb-gold/10">
                <div class="w-14 h-14 mx-auto mb-4 border border-hb-gold/50 rounded-full flex items-center justify-center text-hb-green bg-hb-paper shadow-sm">
                    <i class="fas fa-seedling text-2xl"></i>
                </div>
                <p class="text-hb-gold font-eng text-[10px] tracking-[0.3em] font-bold uppercase mb-2">Heart Village Lab</p>
                <h1 class="font-serif text-2xl text-hb-green font-bold mb-2 tracking-wide">ì„¸í¬ ê±´ê°• ì„±ì í‘œ</h1>
                <div class="flex justify-center items-center gap-3 mt-4 text-xs text-gray-400 font-serif">
                    <span>ìˆ˜ì‹ : ë°±í•´ë¦¼ (55ì„¸)</span>
                    <span class="w-1 h-1 bg-gray-300 rounded-full"></span>
                    <span>2026. 02. 05</span>
                </div>
            </div>

            <!-- Content Body -->
            <div class="px-6 md:px-8 pb-16 pt-8 space-y-8 animate-fade-in-content bg-[#fdfbf7]">
                
                <!-- 1. The Warning (Expanded & Structured) -->
                <div>
                    <h2 class="font-serif text-lg text-hb-red font-bold mb-4 flex items-center border-b border-hb-red/20 pb-2">
                        <i class="fas fa-exclamation-circle mr-2 text-hb-red"></i> 
                        ì›ì¥ë‹˜ì˜ ê¸´ê¸‰ ê²½ê³ 
                    </h2>
                    
                    <p class="text-gray-600 text-sm leading-relaxed mb-6 font-light">
                        "ë°±í•´ë¦¼ ë‹˜, í™ì±„ëŠ” ìš°ë¦¬ ëª¸ì˜ ë¸”ë™ë°•ìŠ¤ì…ë‹ˆë‹¤. ì•ˆíƒ€ê¹ê²Œë„ ì§€ê¸ˆ ëª¸ì†ì—ëŠ” <strong>ì˜¤ë˜ëœ ë…ì†Œë“¤ì´ ì¥ì—ì„œ ì‹œì‘í•´ ì „ì‹ ìœ¼ë¡œ í¼ì ¸ë‚˜ê°€ê³  ìˆëŠ” íë¦„</strong>ì´ ëšœë ·í•˜ê²Œ ë³´ì…ë‹ˆë‹¤."
                    </p>
                    
                    <div class="space-y-1">
                        <!-- Step 1: Root -->
                        <div class="diagnosis-step">
                            <div class="dot-indicator border-gray-400 bg-gray-200"></div>
                            <h3 class="text-sm font-bold text-gray-700">1ë‹¨ê³„: ì¥ ê°€ìŠ¤ì™€ ìœ„ì¶•ì„± ìœ„ì—¼ (ë¿Œë¦¬)</h3>
                            <p class="text-xs text-gray-500 mt-1 leading-relaxed">
                                ì¥ì´ ê°€ìŠ¤ ë©ì–´ë¦¬ë¡œ ê°€ë“ ì°¨ íŒ½ì°½í•˜ë©´ì„œ, ìœ„ë¡œëŠ” ì‹¬ì¥ê³¼ ë‡Œë¥¼ ì••ë°•í•˜ê³  ìˆìŠµë‹ˆë‹¤. (ì†Œí™”ë¶ˆëŸ‰, ì—­ë¥˜ì„± ì‹ë„ì—¼ì˜ ì›ì¸)
                            </p>
                        </div>
                        
                        <!-- Step 2: Spread -->
                        <div class="diagnosis-step">
                            <div class="dot-indicator border-hb-gold bg-yellow-100"></div>
                            <h3 class="text-sm font-bold text-hb-charcoal">2ë‹¨ê³„: ê°„ê³¼ í˜ˆì•¡ì˜ ì˜¤ì—¼ (ì¤„ê¸°)</h3>
                            <p class="text-xs text-gray-500 mt-1 leading-relaxed">
                                ì¥ì—ì„œ ë„˜ì¹œ ë…ì†Œê°€ ê°„ìœ¼ë¡œ í˜ëŸ¬ë“¤ì–´ê°€ ì§€ë°©ê°„ê³¼ í˜ˆê´€ì¢…ì„ ë§Œë“¤ê³ , í”¼ë¥¼ íƒí•˜ê²Œ í•´ ê³ ì§€í˜ˆì¦ì„ ìœ ë°œí•˜ê³  ìˆìŠµë‹ˆë‹¤.
                            </p>
                        </div>

                        <!-- Step 3: Critical -->
                        <div class="diagnosis-step">
                            <div class="dot-indicator border-hb-red bg-red-100"></div>
                            <h3 class="text-sm font-bold text-hb-red">3ë‹¨ê³„: ë‡Œë™ë§¥ë¥˜ & ì‹¬ì¥ ì••ë°• (ì—´ë§¤)</h3>
                            <p class="text-xs text-gray-600 mt-1 leading-relaxed bg-red-50 p-3 rounded-lg border border-red-100">
                                <strong>ê°€ì¥ ìœ„í—˜í•œ ì‹ í˜¸ì…ë‹ˆë‹¤.</strong> íƒí•´ì§„ í”¼ì™€ ê°€ìŠ¤ ì••ë ¥ì´ ë‡Œí˜ˆê´€(ë™ë§¥ë¥˜)ê³¼ ì‹¬ì¥ì„ ìœ„í˜‘í•˜ê³  ìˆìŠµë‹ˆë‹¤. ë” ì´ìƒ ë°©ì¹˜í•˜ë©´ ì•ˆ ë©ë‹ˆë‹¤.
                            </p>
                        </div>

                        <!-- Extra Issue -->
                        <div class="mt-4 p-4 bg-yellow-50 rounded-lg border border-yellow-200 shadow-sm">
                            <h3 class="text-sm font-bold text-yellow-800 mb-1 flex items-center"><i class="fas fa-bone mr-2"></i> ì¶”ê°€ ìœ„í—˜: ì¹¼ìŠ˜ ê²°í•</h3>
                            <p class="text-xs text-yellow-700 leading-relaxed">
                                ë¼ˆì—ì„œ ì¹¼ìŠ˜ì´ ë‹¤ ë¹ ì ¸ë‚˜ê°€ê³  ìˆìŠµë‹ˆë‹¤. ê·¸ ì¹¼ìŠ˜ ì°Œêº¼ê¸°ë“¤ì´ ëª¸ì†ì„ ëŒì•„ë‹¤ë‹ˆë©° ëŒ(ê²°ì„)ì„ ë§Œë“¤ê³  ìˆìŠµë‹ˆë‹¤.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Divider -->
                <div class="section-divider"><i class="fas fa-leaf"></i></div>

                <!-- 2. The Solution (Soft & Genuine) -->
                <div>
                    <h2 class="font-serif text-lg text-hb-green font-bold mb-6 flex items-center border-b border-hb-green/20 pb-2">
                        <i class="fas fa-prescription-bottle-alt mr-2"></i> 
                        ì´Œì¥ì˜ íë§ ì²˜ë°©ì „
                    </h2>
                    
                    <div class="bg-white p-5 rounded-xl shadow-sm border border-gray-100 space-y-6">
                        <!-- Prescription 1: Diet -->
                        <div class="flex gap-4 items-start">
                            <div class="flex-shrink-0 w-10 h-10 bg-hb-green/10 rounded-full flex items-center justify-center text-hb-green mt-1">
                                <i class="fas fa-utensils"></i>
                            </div>
                            <div>
                                <h3 class="font-bold text-hb-dark text-sm">1. ì‹ë‹¨ í˜ëª…: "ì‹±ê²ê²Œ ë“œì‹œì§€ ë§ˆì„¸ìš”"</h3>
                                <p class="text-xs text-gray-500 mt-1 leading-relaxed">
                                    ê³ ê°ë‹˜ê»˜ ì €ì—¼ì‹ì€ <strong>ì¬ì•™</strong>ì…ë‹ˆë‹¤. ì¢‹ì€ ì†Œê¸ˆê³¼ ì§­ì§¤í•œ ë°˜ì°¬ìœ¼ë¡œ ì†Œí™”ì•¡ì„ ë§Œë“¤ì–´ì•¼ ê°€ìŠ¤ê°€ ë¹ ì§€ê³ , ì‹¬ì¥ì´ ë›¸ í˜ì„ ì–»ìŠµë‹ˆë‹¤. (íƒ„ìˆ˜í™”ë¬¼ â†“, ë°˜ì°¬ â†‘)
                                </p>
                            </div>
                        </div>

                        <!-- Prescription 2: Habit -->
                        <div class="flex gap-4 items-start">
                            <div class="flex-shrink-0 w-10 h-10 bg-hb-gold/10 rounded-full flex items-center justify-center text-hb-gold mt-1">
                                <i class="fas fa-temperature-high"></i>
                            </div>
                            <div>
                                <h3 class="font-bold text-hb-dark text-sm">2. ì²´ì˜¨ ì˜¬ë¦¬ê¸°: "ì‹¬ì¥ì„ ë„ì™€ì£¼ì„¸ìš”"</h3>
                                <p class="text-xs text-gray-500 mt-1 leading-relaxed">
                                    ì•½ë³´ë‹¤ ì¤‘ìš”í•œ ê±´ <strong>ì‹¬ë¶€ì²´ì˜¨ ì˜¬ë¦¬ê¸°(ì„¤ë ˜ë”)</strong>ì™€ <strong>ëƒ‰ê¸°ì œê±°</strong>ì…ë‹ˆë‹¤. ëª¸ì´ ë”°ëœ»í•´ì•¼ êµ³ì–´ê°€ëŠ” ê·¼ìœ¡ì´ í’€ë¦½ë‹ˆë‹¤.
                                </p>
                            </div>
                        </div>

                         <!-- Prescription 3: Soft Nudge -->
                         <div class="flex gap-4 items-start">
                            <div class="flex-shrink-0 w-10 h-10 bg-red-50 rounded-full flex items-center justify-center text-hb-red mt-1">
                                <i class="fas fa-calendar-check"></i>
                            </div>
                            <div>
                                <h3 class="font-bold text-hb-dark text-sm">3. ì¶”ì²œ: ì¥ ê°€ìŠ¤ ì œê±° (ì„ íƒ)</h3>
                                <p class="text-xs text-gray-500 mt-1 leading-relaxed">
                                    í˜¼ì ì‹ë‹¨ ì¡°ì ˆì´ í˜ë“œì‹œë‹¤ë©´, <strong>[3ì¼ ì¥ì²­ì†Œ]</strong>ê°€ ê°€ì¥ ë¹ ë¥¸ ì§€ë¦„ê¸¸ì…ë‹ˆë‹¤. ê°€ìŠ¤ë§Œ ë¹ ì ¸ë„ ì‹¬ì¥ì´ í›¨ì”¬ í¸ì•ˆí•´ì§€ì‹¤ ê²ë‹ˆë‹¤.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 3. The Mission -->
                <div class="text-center pt-4">
                    <p class="font-serif text-gray-400 text-xs tracking-widest uppercase mb-3">Today's Mission</p>
                    <div class="inline-block border border-dashed border-hb-green px-8 py-4 rounded-full bg-[#f0fdf4] text-hb-green font-bold text-sm shadow-sm w-full">
                        ğŸµ ë§¤ì¼ ì•„ì¹¨, ë”°ëœ»í•œ í•´ì£½ìˆœ ì°¨ ë§ˆì‹œê¸°
                    </div>

                    <div class="relative p-6 bg-white border border-gray-200 rounded-lg mt-10 text-left shadow-md">
                        <i class="fas fa-quote-left absolute top-4 left-4 text-gray-200 text-2xl"></i>
                        <p class="text-sm text-gray-600 italic leading-relaxed mb-4 font-serif pl-4 pt-2">
                            "ë°±í•´ë¦¼ ë‹˜, ì›ì¥ë‹˜ê»˜ì„œ ì‹¬ì¥ê³¼ ë‡Œ ìª½ íë¦„ì„ ë§ì´ ê±±ì •í•˜ì…¨ìŠµë‹ˆë‹¤.<br>
                            í•˜ì§€ë§Œ ë„ˆë¬´ ê²ë¨¹ì§€ ë§ˆì„¸ìš”. ì›ì¸ì„ ì•Œì•˜ìœ¼ë‹ˆ ê³ ì¹  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>
                            ì˜¤ëŠ˜ ì²˜ë°©í•´ ë“œë¦° ë‚´ìš© ê¼­ ê¸°ì–µí•˜ì‹œê³ , ì–¸ì œë“  í¸í•˜ê²Œ ì¡±ìš•í•˜ëŸ¬ ì˜¤ì„¸ìš”."
                        </p>
                        <div class="flex justify-end items-center gap-3 mt-6 border-t border-gray-100 pt-4">
                            <div class="text-right">
                                <p class="text-[10px] text-gray-400 uppercase tracking-widest">Health Mentor</p>
                                <p class="font-serif font-bold text-hb-green text-sm">í•˜íŠ¸ë¹Œë¦¬ì§€ ì´Œì¥ ì˜¬ë¦¼</p>
                            </div>
                            <!-- Stamp -->
                            <div class="w-14 h-14 border-2 border-hb-gold rounded-full flex items-center justify-center text-hb-gold font-bold text-[10px] transform rotate-[-15deg] opacity-60 font-serif" style="border-style: double;">
                                CARE<br>PROMISE
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Save Button -->
                <button onclick="saveReport()" class="w-full py-4 mt-8 bg-hb-green text-white text-xs font-bold rounded-xl shadow-lg hover:bg-black transition flex items-center justify-center gap-2">
                    <i class="fas fa-download"></i> ì´ ë¦¬í¬íŠ¸ë¥¼ ì´ë¯¸ì§€ë¡œ ì €ì¥í•˜ê¸°
                </button>
                <p class="text-[10px] text-center text-gray-400 mt-2 pb-8">ì €ì¥ í›„ ì¹´ì¹´ì˜¤í†¡ìœ¼ë¡œ ë³´ë‚´ì£¼ì„¸ìš”.</p>

            </div>
        </div>
    </div>

    <script>
        function openLetter() {
            const envelope = document.getElementById('envelope');
            const sceneEnvelope = document.getElementById('scene-envelope');
            const sceneReport = document.getElementById('scene-report');

            // 1. Open Flap
            envelope.classList.add('open');

            // 2. Transition Scene
            setTimeout(() => {
                sceneEnvelope.style.opacity = '0';
                
                setTimeout(() => {
                    sceneEnvelope.style.display = 'none';
                    sceneReport.classList.remove('hidden');
                    // Force reflow
                    void sceneReport.offsetWidth; 
                }, 800);
            }, 1000);
        }

        function saveReport() {
            const target = document.querySelector('.report-paper');
            const btn = document.querySelector('button[onclick="saveReport()"]');
            const hint = btn.nextElementSibling;

            // Hide button for screenshot
            btn.style.display = 'none';
            hint.style.display = 'none';
            
            // Temporary style adjustment for better capture
            const originalOverflow = target.style.overflow;
            target.style.overflow = 'visible';
            target.style.height = 'auto';
            target.style.width = '100%'; // Ensure full width capture
            
            html2canvas(target, { 
                scale: 2,
                backgroundColor: '#fdfbf7',
                useCORS: true,
                width: target.scrollWidth, // Capture full width
                height: target.scrollHeight // Capture full height
            }).then(canvas => {
                // Restore styles
                target.style.overflow = originalOverflow;
                target.style.height = '100%';
                btn.style.display = 'flex';
                hint.style.display = 'block';

                const link = document.createElement('a');
                link.download = 'ë°±í•´ë¦¼ë‹˜_ì„¸í¬ë¦¬í¬íŠ¸.png';
                link.href = canvas.toDataURL("image/png");
                link.click();
            });
        }
    </script>
</body>
</html>
